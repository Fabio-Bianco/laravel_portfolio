/**
 * Main SCSS Entry Point
 * Unified SCSS System - Organized Structure
 */

// Bootstrap Overrides
@use "bootstrap-overrides" as *;

// Bootstrap Framework
@import "bootstrap/scss/bootstrap";
@import "bootstrap-icons/font/bootstrap-icons.css";

// Guest Area (portfolio-guest includes guest-minimal + accessibility)
@import "guest/portfolio-guest";

// Admin Area
@import "admin/admin-sidebar";

// Shared Components
@import "footer-2025";
@import "contact-modern";

// ==================================================
// UTILITY EXTRA
// ==================================================
.card-title { margin-bottom: .4rem; }
.navbar-brand { font-weight: 700; letter-spacing:.3px; }

// Linea sottile elegante sotto navbar
.navbar {
	position: relative;
	
	&::after {
		content: '';
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		height: 1px;
		background: linear-gradient(
			90deg,
			transparent,
			rgba(255, 255, 255, 0.15) 20%,
			rgba(255, 255, 255, 0.15) 80%,
			transparent
		);
		opacity: 0.7;
	}
}



// Stili specifici pagina portfolio (guest/index)
.portfolio-page {
	a {
		text-decoration: none;
	}
	a:hover, a:focus {
		text-decoration: none; // mantiene i link non sottolineati su hover/focus
	}
	
	/* Badge filtro Smart: alto contrasto e lettura facile */
	.badge-filter {
		--pill-bg: #e9ecef;
		--pill-fg: #212529;
		background-color: var(--pill-bg);
		color: var(--pill-fg);
		padding: .5rem .75rem;
		border-radius: 999px;
		line-height: 1;
		font-weight: 600;
		display: inline-flex;
		align-items: center;
		gap: .4rem;
		border: 1px solid rgba(0,0,0,.08);
		transition: all 0.2s ease;
	}
	
	// Dark mode badge filter
	@media (prefers-color-scheme: dark) {
		.badge-filter {
			--pill-bg: #2d3139;
			--pill-fg: #e6edf3;
			border-color: rgba(255,255,255,.1);
		}
	}
	
	[data-bs-theme="dark"] .badge-filter {
		--pill-bg: #2d3139;
		--pill-fg: #e6edf3;
		border-color: rgba(255,255,255,.1);
	}
	
	.badge-filter.is-active {
		--pill-bg: var(--color-accent);
		--pill-fg: #fff;
		border-color: var(--color-accent);
		box-shadow: var(--shadow-glow);
	}
	
	.badge-filter .badge-count { 
		background: rgba(0,0,0,.075); 
		color: inherit;
		padding: .15rem .4rem;
		border-radius: 999px;
	}
	
	@media (prefers-color-scheme: dark) {
		.badge-filter .badge-count { 
			background: rgba(255,255,255,.1); 
		}
	}
	
	[data-bs-theme="dark"] .badge-filter .badge-count { 
		background: rgba(255,255,255,.1); 
	}
	
	.is-active .badge-count { 
		background: rgba(255,255,255,.25); 
	}
}

// Stili specifici pagina admin projects (admin/projects/index)
.admin-projects-page {
	// rimuovi sottolineatura e colore blu tipico dei link
	a:not(.btn) {
		text-decoration: none;
		color: inherit; // usa il colore del testo corrente
	}
	a:not(.btn):hover,
	a:not(.btn):focus {
		text-decoration: none;
		color: inherit;
	}
}

// Clamp multi-riga con ellissi
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2; // standard (supporto limitato)
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// ==================================================
// CUSTOM BADGE STYLES (Portfolio-specific)
// ==================================================
// Badge Type con colori accessibili
.badge-type { 
  font-weight: 600; 
  border: 1px solid transparent;
  transition: all 0.2s ease;
}

// Light mode badges (default e explicit)
:root .badge-type-frontend,
[data-bs-theme="light"] .badge-type-frontend { 
  background:#e0f2fe; 
  color:#0369a1; 
  border-color:#bae6fd; 
}
:root .badge-type-backend,
[data-bs-theme="light"] .badge-type-backend { 
  background:#d1fae5; 
  color:#047857; 
  border-color:#a7f3d0; 
}
:root .badge-type-automazioni,
[data-bs-theme="light"] .badge-type-automazioni { 
  background:#fef3c7; 
  color:#92400e; 
  border-color:#fde68a; 
}

// Dark mode badges (media query + explicit)
@media (prefers-color-scheme: dark) {
  :root:not([data-bs-theme="light"]) .badge-type-frontend { 
    background:rgba(236, 72, 153, 0.15); 
    color:#f9a8d4; 
    border-color:rgba(236, 72, 153, 0.3); 
  }
  :root:not([data-bs-theme="light"]) .badge-type-backend { 
    background:rgba(139, 92, 246, 0.15); 
    color:#c4b5fd; 
    border-color:rgba(139, 92, 246, 0.3); 
  }
  :root:not([data-bs-theme="light"]) .badge-type-automazioni { 
    background:rgba(34, 197, 94, 0.15); 
    color:#86efac; 
    border-color:rgba(34, 197, 94, 0.3); 
  }
}

[data-bs-theme="dark"] .badge-type-frontend { 
  background:rgba(236, 72, 153, 0.15); 
  color:#f9a8d4; 
  border-color:rgba(236, 72, 153, 0.3); 
}
[data-bs-theme="dark"] .badge-type-backend { 
  background:rgba(139, 92, 246, 0.15); 
  color:#c4b5fd; 
  border-color:rgba(139, 92, 246, 0.3); 
}
[data-bs-theme="dark"] .badge-type-automazioni { 
  background:rgba(34, 197, 94, 0.15); 
  color:#86efac; 
  border-color:rgba(34, 197, 94, 0.3); 
}

// Badge tecnologia con palette neutra
.badge-tech { 
  background:#e9ecef; 
  color:#495057; 
  border:1px solid #ced4da; 
  font-weight:500;
  transition: all 0.2s ease;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-bs-theme="light"]) .badge-tech { 
    background:rgba(59, 130, 246, 0.1); 
    color:#93c5fd; 
    border-color:rgba(59, 130, 246, 0.2); 
  }
}

[data-bs-theme="dark"] .badge-tech { 
  background:rgba(59, 130, 246, 0.1); 
  color:#93c5fd; 
  border-color:rgba(59, 130, 246, 0.2); 
}

// ==================================================
// NAVBAR STYLES
// ==================================================
.navbar {
  .nav-link:hover, 
  .nav-link:focus { 
    color: #fff; 
  }
  
  &.bg-dark { 
    background-color: #111827 !important; 
  }
  
  .btn-outline-light { 
    --bs-btn-color:#f8fafc; 
    --bs-btn-border-color:#f8fafc; 
    --bs-btn-hover-bg:#f8fafc; 
    --bs-btn-hover-color:#0b1220; 
    opacity: 1 !important; // Assicura visibilità del toggle tema
    position: relative;
    z-index: 1;
  }
}

// Dark mode variants per navbar e buttons gestite in _dark.scss

/* Pulsanti azioni dimensione uniforme */
.btn-action {
	min-width: 110px; /* stessa larghezza desktop */
}
@media (max-width: 767.98px) {
	.btn-action { min-width: auto; }
}

// ==================================================
// CARD GLOBAL STYLES
// ==================================================
.card {
	border-radius: 14px;
	box-shadow: 0 6px 16px rgba(0,0,0,0.08);
}

// Dark mode shadow gestito in _dark.scss
img.card-img-top {
	width: 100%;
	height: clamp(220px, 34vh, 420px);
	object-fit: cover;
	display: block;
}
.card .card-body { padding: 0.9rem 1rem 1rem; }

/* Barra meta card: icone e spaziature */
.card-meta { color: var(--text-muted); font-size: .9rem; display:flex; gap:.75rem; align-items:center; }
.card-meta .ms-auto { margin-left:auto; }
.card-meta i { opacity:.9; }

.portfolio-page .row {
	justify-content: center;
}

/* Utility per object-fit cover su immagini dentro ratio */
.object-fit-cover { object-fit: cover; }

/* Bio Offcanvas: FAB e dimensioni pannello */
.bio-fab {
	left: 18px; bottom: 20px;
	border-radius: 999px; width: 56px; height: 56px;
	display: grid; place-items: center; z-index:1050;
}

#bioOffcanvas { --bs-offcanvas-width: clamp(280px, 22vw, 360px); }

/* Spinta layout su desktop quando un aside è aperto (riusata dall'Offcanvas Bio) */
@media (min-width: 992px) {
  body.drawer-left-open .container,
  body.drawer-left-open .container-fluid {
    margin-left: clamp(280px, 22vw, 360px);
    transition: margin-left .25s ease;
  }
}

// ==================================================
// DARK MODE BOOTSTRAP VARIABLES
// ==================================================
[data-bs-theme="dark"] {
  --bs-body-color: #e2e8f0;
  --bs-body-bg: #0f172a;
  --bs-secondary-color: #94a3b8;
  --bs-border-color: #334155;
  --text-muted: #94a3b8;
  --text-body: #e2e8f0;
  --text-heading: #f1f5f9;
  --bg-card: #1e293b;
  --bg-body: #0f172a;
  --border-color: #334155;
  
  // Form controls
  .form-control,
  .form-select {
    background-color: #1e293b;
    border-color: #334155;
    color: #e2e8f0;
    
    &::placeholder {
      color: #94a3b8;
    }
  }
}

